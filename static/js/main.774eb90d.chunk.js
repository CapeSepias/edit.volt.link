(this["webpackJsonpedit.volt.link"]=this["webpackJsonpedit.volt.link"]||[]).push([[0],{16:function(e,t,a){e.exports={editor:"Editor_editor__2hX0g",loadingContent:"Editor_loadingContent__2fqdK",item:"Editor_item__3sX2B",chooseTypeScreen:"Editor_chooseTypeScreen__3G3o8",itemSettingsRow:"Editor_itemSettingsRow__2Z6Xh",active_toggle_wrapper:"Editor_active_toggle_wrapper__3tPCG",ion_toggle:"Editor_ion_toggle__2lGcG",active_label:"Editor_active_label__3qS1e",form_deactivated:"Editor_form_deactivated__2bH62",form_active:"Editor_form_active__3nax4",active_toggle_icon:"Editor_active_toggle_icon__O5fBq",active:"Editor_active__mXNFR"}},18:function(e,t,a){e.exports={row:"Repeater_row__1ODoF",middleActions:"Repeater_middleActions__3nRoT",trigger:"Repeater_trigger__1VtG5",content:"Repeater_content__110R9",form:"Repeater_form__2N6kw",item:"Repeater_item__2OI78",inlineRowButton:"Repeater_inlineRowButton__uqk8Y",addRowButton:"Repeater_addRowButton__3huSP"}},40:function(e,t,a){e.exports={header:"Header_header__3mObx",headerBar:"Header_headerBar__2YU41",notificationBanner:"Header_notificationBanner__104SP"}},41:function(e,t,a){e.exports={chooserInput:"Chooser_chooserInput__JXUde",hideSubmitButton:"Chooser_hideSubmitButton__5jsIt",domainPrefix:"Chooser_domainPrefix__2HRVV"}},47:function(e,t,a){e.exports={input:"Shortcode_input__Av6rm",hideSubmitButton:"Shortcode_hideSubmitButton__mbXgB"}},48:function(e,t,a){e.exports={app:"App_app__3hbGO"}},49:function(e,t,a){e.exports={error:"FancyInput_error__2dhxG"}},59:function(e,t,a){},70:function(e,t,a){var r={"./de.ftl":[72,3],"./en.ftl":[73,4]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id=70,e.exports=n},71:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(3),c=a(1),i=a.n(c),l=a(27),s=a.n(l),o=(a(59),a(48)),u=a.n(o),d=a(8),j=a(2),b=a(31),h=a(39),O=a(21),_=a(0),x=function(e){return Object(_.jsx)(b.b,Object(j.a)(Object(j.a)({},e),{},{elems:Object(j.a)({br:Object(_.jsx)("br",{})},e.elems),children:Object(_.jsx)(i.a.Fragment,{children:e.children})}),e.id)};function p(e){return function(t){var a=i.a.useContext(O.a);return i.a.createElement(e,Object(j.a)({fluentByObject:function(e,t){if(t||(t=null),e){var n,c=a.supportedLocales||[],i=Object.keys(e).filter((function(e){return c.includes(e)})),l=Object(h.a)(a.userLocales,i,{defaultLocale:a.defaultLocale}),s=Object(r.a)(l);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(e[o])return e[o]}}catch(u){s.e(u)}finally{s.f()}return t}return t},getString:function(e,t,r){return a.getString(e,t,r||" ")}},t))}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)({}),a=Object(n.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(!1),s=Object(n.a)(l,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){!0!==e&&window.hasOwnProperty("useUser_user")&&window.hasOwnProperty("useUser_loggedIn")?(i(window.useUser_user),u(window.useUser_loggedIn)):fetch("".concat(window.domains.backend,"user.json"),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){e&&e.user&&e.user.id&&e.user.status?(e.user.username=(e.user.email&&e.user.email||"").split("@")[0],window.useUser_user=e.user,window.useUser_loggedIn=!0,i(e.user),u(!0)):(window.useUser_user={},window.useUser_loggedIn=!1,i({}),u(!1))})).catch((function(e){return console.error(e)}))}),[e,i,u]),[r,o]}var v=a(40),m=a.n(v);function g(e){var t=e.title,a=e.rightActions,r=e.notificationBanner;return Object(_.jsxs)("header",{className:m.a.header,children:[Object(_.jsxs)("div",{className:m.a.headerBar,children:[Object(_.jsx)("h2",{children:t}),a]}),r?Object(_.jsx)("div",{className:m.a.notificationBanner,children:r}):null]})}var y=a(41),w=a.n(y),k=a(25);function F(e,t){Object(c.useEffect)((function(){function a(a){e.includes(a.key)&&t(a)}return window.addEventListener("keyup",a),function(){return window.removeEventListener("keyup",a)}}),[e,t])}var C=p((function(e){var t=e.getString,a=e.rightHeaderActions,r=f(),l=Object(n.a)(r,1)[0],s=l.username||"",o=l.editable||[],u=Object(c.useState)(null),j=Object(n.a)(u,2),b=j[0],h=j[1],O=Object(d.f)(),p=Object(c.useState)({}),v=Object(n.a)(p,2),m=v[0],y=v[1],C=Object(c.useState)(""),E=Object(n.a)(C,2),N=E[0],S=E[1],V=Object(c.useState)(null),D=Object(n.a)(V,2),B=D[0],A=D[1],R=Object(c.useState)(""),L=Object(n.a)(R,2),T=L[0],I=L[1];F(["Enter"],(function(){O.push("/edit/".concat(N))}));var P=Object(c.useCallback)((function(e){var t=(e.target.value||"").toLowerCase();S(t);var a=(m.letters||"").split(""),r=(t||"").split(""),n=a.filter((function(e){return!r.includes(e)}));(m.codes||[]).includes(t)?(A(null),I("This path is not allowed.")):n.length<a.length?(A(null),I("This path contains forbidden characters.")):t.startsWith("volt")?(A(null),I('A path can\'t start with "volt".')):""===t?(A(null),I("")):(I(""),fetch("".concat(window.domains.backend,"quickcheck/").concat(t),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){!1===e.allowed?(A(null),I("You are not allowed to edit this code.")):!0===e.exists?(A(!0),I("")):r.includes(".")?(A(null),I("Codes with a dot are restricted to people. Please contact thomas.rosen@volteuropa.org to use volt.link for your Volt Account.")):(A(!1),I(""))})).catch((function(e){console.error(e),A(!1)})))}),[S,A,m.letters,m.codes]);Object(c.useEffect)((function(){fetch("".concat(window.domains.backend,"forbidden_codes/"),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){console.error(e),y({})}))}),[y]),Object(c.useEffect)((function(){var e=(s||"").toLowerCase();""!==e?fetch("".concat(window.domains.backend,"quickcheck/").concat(e),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){!1===e.allowed?h(null):!0===e.exists?h(!0):h(!1)})).catch((function(e){console.error(e),h(!1)})):h(null)}),[s,h]);var U=Object(_.jsxs)("div",{children:[Object(_.jsx)(g,{title:Object(_.jsx)(x,{id:"chooser_header_title"}),rightActions:a||null}),""!==s?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{children:Object(_.jsx)(x,{id:!0===b?"edit_user_page_headline":"create_user_page_headline"})}),Object(_.jsx)("p",{children:Object(_.jsx)(x,{id:!0===b?"edit_user_page_info":"create_user_page_info"})}),Object(_.jsx)(k.b,{to:"/edit/".concat(s),children:Object(_.jsx)("button",{style:{marginLeft:"0",marginRight:"0"},children:Object(_.jsx)(x,{id:!0===b?"edit_user_page_button":"create_user_page_button",vars:{username:s}})})}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}):null,Object(_.jsx)("h2",{children:Object(_.jsx)(x,{id:"chooser_any_link_headline"})}),Object(_.jsx)("p",{children:Object(_.jsx)(x,{id:"chooser_any_link_info"})}),Object(_.jsxs)("div",{className:"".concat(w.a.chooserInput," ").concat(null===B?w.a.hideSubmitButton:""),children:[Object(_.jsx)("p",{className:w.a.domainPrefix,children:"volt.link/"}),Object(_.jsx)("input",{type:"text",placeholder:t("type_a_path"),onChange:P}),null===B?null:Object(_.jsx)(k.b,{to:"/edit/".concat(N),children:Object(_.jsx)("button",{className:"green",children:t(B?"edit_path_button":"create_path_button")})})]}),""!==T?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{className:"red",children:Object(_.jsx)(x,{id:"headline_errors"})}),Object(_.jsx)("p",{children:T})]}):null,o.length>0?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"buttonRow usesLinks",children:o.map((function(e){return Object(_.jsx)("a",{href:"/edit/".concat(e.slug),children:Object(_.jsx)("button",{children:e.slug})},e.slug)}))})]}):null,Object(_.jsx)("br",{}),Object(_.jsx)("hr",{}),Object(_.jsx)("h2",{children:"Restrictions"}),Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:["These letters are not allowed: ",Object(_.jsx)("code",{children:m.letters||""})," (And of course: Don't use whitespace!)"]}),Object(_.jsxs)("li",{children:["These paths are not allowed: ",(m.codes||[]).filter((function(e){return!e.includes("/")&&!e.includes(".")})).flatMap((function(e){return[Object(_.jsx)("code",{children:e},e),Object(_.jsx)(i.a.Fragment,{children:", "},e+"separator")]})).slice(0,-1)]}),Object(_.jsxs)("li",{children:["The dot (",Object(_.jsx)("code",{children:"."}),") is used for Volt Accounts."]})]}),Object(_.jsx)("h2",{children:"Best Practices"}),Object(_.jsx)("h3",{children:"General"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:"Keep it short!"}),Object(_.jsxs)("li",{children:["Seperate words with hyphens (",Object(_.jsx)("code",{children:"-"}),"). This makes it readable by humans and parsable by search engines. (Try not to use underscores (",Object(_.jsx)("code",{children:"_"}),"). Your favorite search provider will thank you :D)"]}),Object(_.jsx)("li",{children:"It is not important if you use upper- or lower-case letters."}),Object(_.jsx)("li",{children:"Use letters people can type. The less international characters the better."}),Object(_.jsxs)("li",{children:["\ud83c\uddea\ud83c\uddfa Emojis are possible. But like before. Use them sparingly and check if others can type and see them on their device.",Object(_.jsx)("br",{}),Object(_.jsx)("a",{href:"https://emojipedia.org/emoji-11.0/",target:"_blank",rel:"noreferrer",children:"Emoji 11"})," and earlier should be okay.",Object(_.jsx)("br",{}),"And better don't mix emojis and normals letters."]})]}),Object(_.jsx)("h3",{children:"City Teams"}),Object(_.jsx)("p",{children:"Use the name of your city team without the Volt prefix or a common international name."}),Object(_.jsxs)("p",{children:["If two cities have the same name, add your country's ",Object(_.jsx)("a",{href:"https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes",target:"_blank",rel:"noreferrer",children:"two letter shortcode"})," before it (eg: ",Object(_.jsx)("code",{className:"filled",children:"de-bonn"}),")."]}),Object(_.jsx)("p",{children:"Use the full city/state/team name if possible. Not everybody knows the abbreviation. But keep it short."}),Object(_.jsx)("p",{children:"Example:"}),Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:["Volt Bonn \u2192 ",Object(_.jsx)("code",{className:"filled",children:"bonn"})]}),Object(_.jsxs)("li",{children:["Volt K\xf6ln \u2192 ",Object(_.jsx)("code",{className:"filled",children:"k\xf6ln"})," or ",Object(_.jsx)("code",{className:"filled",children:"cologne"})]})]}),Object(_.jsx)("h3",{children:"Personal Pages"}),Object(_.jsx)("p",{children:"The link of your personal page should match your Volt Europa account."}),Object(_.jsx)("p",{children:"We want to look professional, so please don't use your socialmedia handle."}),Object(_.jsx)("p",{children:"We are a lot of people in Volt. People with the same first or lastname exist. To prevent name collisions, use your Volt Account username. (The part before the @ sign.)"}),Object(_.jsx)("p",{children:'Examples for "Thomas Rosen":'}),Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:["Do \u2192 ",Object(_.jsx)("code",{className:"filled",children:"thomas.rosen"})]}),Object(_.jsxs)("li",{children:["Don't \u2192 ",Object(_.jsx)("code",{className:"filled",children:"thomas_rosen_official_123"}),", ",Object(_.jsx)("code",{className:"filled",children:"thomas"})," or ",Object(_.jsx)("code",{className:"filled",children:"rosen"})]})]}),Object(_.jsx)("h3",{children:"Redirects"}),Object(_.jsx)("p",{children:"There are three options of naming redirects:"}),Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:["random letters or words (",Object(_.jsx)("code",{className:"filled",children:"123abc"}),"),"]}),Object(_.jsxs)("li",{children:["words describing the redirect content (",Object(_.jsx)("code",{className:"filled",children:"de-events"}),") and"]}),Object(_.jsxs)("li",{children:["words describing where the redirect content is used (",Object(_.jsx)("code",{className:"filled",children:"flyer-bonn"}),")."]})]}),Object(_.jsx)("p",{children:"Use a random text or describe where the redirect is used if you'll change the link in the future."}),Object(_.jsx)("h3",{children:"Translation"}),Object(_.jsx)("p",{children:"You can provide translations for text for these langues:"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:"English"}),Object(_.jsx)("li",{children:"Deutsch"}),Object(_.jsx)("li",{children:"Espa\xf1ol"}),Object(_.jsx)("li",{children:"Francais"}),Object(_.jsx)("li",{children:"Italiano"}),Object(_.jsx)("li",{children:"Nederlands"}),Object(_.jsx)("li",{children:"Portugues"})]}),Object(_.jsxs)("p",{children:["Contact ",Object(_.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:"Thomas"})," for more languages. We'll add more as needed. "]}),Object(_.jsx)("h3",{children:"Email Addresses"}),Object(_.jsx)("p",{children:"You can of course link to email addresses."}),Object(_.jsxs)("p",{children:["But like you write ",Object(_.jsx)("code",{className:"filled",children:"https://"})," before normal links, you need to write ",Object(_.jsx)("code",{className:"filled",children:"mailto:"})," before email addresses."]}),Object(_.jsx)("p",{children:"Examples:"}),Object(_.jsx)("ul",{children:Object(_.jsxs)("li",{children:["bonn@voltdeutschland.org \u2192 ",Object(_.jsx)("code",{className:"filled",children:"mailto:bonn@voltdeutschland.org"})]})}),Object(_.jsx)("h3",{children:"Legal"}),Object(_.jsx)("p",{children:"The default imprint is the one from Volt Europa. You can change it to the correct link of your chapter."}),Object(_.jsx)("h3",{children:"Statistics"}),Object(_.jsx)("p",{children:"As with the whole volt.link project, the statistics are currently in beta."}),Object(_.jsx)("h3",{children:"Deletion"}),Object(_.jsxs)("p",{children:["Links can't be deleted as nobody likes to scan a QR-Code, just to receive an ",Object(_.jsx)("a",{href:"https://volt.link/error",children:"error page"}),"."]}),Object(_.jsxs)("p",{children:["But links can of course be reused. Contact ",Object(_.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:"Thomas"})," if you need get access to a link."]})]});return console.log(U),Object(_.jsx)("div",{children:Object(_.jsx)("h1",{children:"The editor will be back shortly. Contact thomas.rosen@volteuropa.org for any questions."})})})),E=a(6),N=a.n(E),S=a(13),V=a(47),D=a.n(V),B=a(10),A=/^([\+-\.0-9A-Z\u017F\u212A]+:(?:\/\/)?)?[\x2D\.0-9A-Z_a-z\xC0-\xFF\u017F\u1E9E\u212A\u212B]+(?:\.[\x2D\.0-9A-Z_a-z\xC0-\xFF\u017F\u1E9E\u212A\u212B]+)+[!#-;=\?-\[\]_a-z~\xC0-\xFF\u017F\u1E9E\u212A\u212B]+$/gi,R=/^(?:(?:(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(?:\.(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|(?:"(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(?:(?:[\x2D0-9A-Za-z\u017F\u212A]+\.)+[A-Za-z\u017F\u212A]{2,})\.?)$/gi,L=/^(?:(?![\/:])[\s\S])+@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/gi;var T=function(e){var t=e.defaultValue,a=e.onChange,r=e.onError,n=Object(B.a)(e,["defaultValue","onChange","onError"]),i=Object(c.useCallback)((function(e){if(console.log("-----"),a||r){var t=e.target.value||"",n=!1,c="";if(""!==t){var i=t.split(":"),l=i.shift(),s=i.join(":");"mailto"===l||t.match(L)?s.match(R)?n=!0:c="invalid_mailto_url":t.match(A)?n=!0:c="invalid_url"}a&&a(n?t:""),r&&r(c)}}),[a,r]);return Object(_.jsx)("input",Object(j.a)({type:"url",onChange:i,defaultValue:t},n))},I=a(49),P=a.n(I);var U=function(e){var t=e.children,a=(e.className,Object(B.a)(e,["children","className"])),r=Object(c.useState)(""),i=Object(n.a)(r,2),l=i[0],s=i[1];return Object(_.jsxs)("div",Object(j.a)(Object(j.a)({},a),{},{children:[t({setError:s}),l?Object(_.jsx)("div",{className:P.a.error,children:Object(_.jsx)(x,{id:"error_"+l})}):null]}))};var G=p((function(e){var t=e.getString,a=e.rightHeaderActions,r=Object(d.f)(),i=Object(c.useState)(""),l=Object(n.a)(i,2),s=l[0],o=l[1],u=Object(c.useState)(!1),j=Object(n.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)(""),p=Object(n.a)(O,2),f=p[0],v=p[1];F(["Enter"],(function(){b&&y()}));var m=Object(c.useCallback)((function(e){o(e),h(""!==e)}),[o,h]),y=Object(c.useCallback)((function(){if(b){var e={use_as:"redirect",redirect:s};fetch("".concat(window.domains.backend,"set_redirect"),{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then(function(){var e=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof t.error?(console.error(t.error),v(t.error)):"string"===typeof t.code?r.push("/edit/".concat(t.code)):v("Undefined Error. Please contact thomas.rosen@volteuropa.org");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(S.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error(t),v(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[b,s,r]);return Object(_.jsxs)("div",{children:[Object(_.jsx)(g,{title:Object(_.jsx)(x,{id:"create_shortcode_headline"}),rightActions:a||null}),Object(_.jsx)("p",{children:Object(_.jsx)(x,{id:"create_shortcode_info"})}),Object(_.jsxs)("div",{className:"".concat(D.a.input," ").concat(!0===b?"":D.a.hideSubmitButton),children:[Object(_.jsx)(U,{style:{flexGrow:"1",display:"flex",flexDirection:"column"},children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,placeholder:t("create_shortcode_url_placeholder"),onChange:m})}}),!0===b?Object(_.jsx)("button",{className:"green",onClick:y,children:Object(_.jsx)(x,{id:"create_shortcode_url_submit"})}):null]}),""!==f?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{className:"red",children:Object(_.jsx)(x,{id:"headline_errors"})}),Object(_.jsx)("p",{children:f})]}):null]})})),H=a(19),q=a(89),W=a(87),Z=a(88),z=a(32),Y=a.p+"static/media/layout-default.e50ac204.svg",X=a.p+"static/media/layout-person.3608bb84.svg",J=a.p+"static/media/qr_code_24pd.b620c9c2.svg",M=a.p+"static/media/assessment_24dp.7a4e5a03.svg",$=a.p+"static/media/publish_24dp.ae37f206.svg",K=a(16),Q=a.n(K);var ee=function(e){var t=e.ariaLabel,a=e.items,r=e.defaultValue,i=e.onChange,l=e.style,s=e.className,o=Object(c.useState)(),u=Object(n.a)(o,2),d=u[0],b=u[1];Object(c.useEffect)((function(){return b(r)}),[r,b]);var h=Object(c.useCallback)((function(e){var t=e.target.dataset.value;b(t),i&&i(t)}),[b,i]);return Object(_.jsx)("div",{"aria-label":t,className:"buttonRow "+(s||""),style:Object(j.a)({display:"inline-block"},l),children:a.map((function(e){var t=e.value,a=e.title,r=e.icon||null;return Object(_.jsx)("button",{className:"".concat(d===t?"choosen":""," ").concat(r?"hasIcon":""),onClick:h,"data-value":t,children:Object(_.jsxs)("span",{style:{pointerEvents:"none"},children:[r||null,Object(_.jsx)("span",{style:{verticalAlign:"middle"},children:a})]})},t)}))})},te={en:"English",de:"Deutsch",es:"Espa\xf1ol",pt:"Portugu\xeas",fr:"Fran\xe7ais",it:"Italiano",nl:"Nederlands",da:"Dansk",sv:"Svenska",nb:"Norsk bokm\xe5l",fi:"Suomi",mt:"Malti",ru:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",tr:"T\xfcrk\xe7e",ar:"\u0627\u064e\u0644\u0652\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u064e\u0651\u0629"};te=Object.entries(te).map((function(e){var t=Object(n.a)(e,2);return{code:t[0],nativeName:t[1]}})),console.log("locales",te);var ae=function(e){var t=e.locale,a=e.defaultValue,r=e.children,i=e.style,l=e.onChange,s=Object(B.a)(e,["locale","defaultValue","children","style","onChange"]),o=Object(c.useRef)(null),u=Object(c.useState)(t),d=Object(n.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(a),x=Object(n.a)(O,2),p=x[0],f=x[1],v=Object(c.useCallback)((function(e){if(h(e.target.value),l){var t=o.current;t.value={locale:e.target.value,value:p},l({target:t})}}),[h,l,p]),m=Object(c.useCallback)((function(e){if(f(e.target.value),l){var t=o.current;t.value={locale:b,value:e.target.value},l({target:t})}}),[f,l,b]);return Object(_.jsxs)("div",Object(j.a)(Object(j.a)({ref:o,style:Object(j.a)({display:"flex",flexDirection:"row",alignItems:"flex-start",maxWidth:"100%"},i)},s),{},{children:[Object(_.jsx)("select",{onChange:v,defaultValue:t,style:{margin:"0 var(--basis) 0 0"},children:te.map((function(e){var t=e.code,a=e.nativeName;return Object(_.jsx)("option",{value:t,children:a},t)}))}),r?r({onChange:m,defaultValue:a,style:{flexGrow:"1"}}):null]}))};var re=function(e){var t=e.role,a=e.defaultValue,r=e.children,i=e.style,l=e.onChange,s=(e.ariaLabel,e.placeholder,Object(B.a)(e,["role","defaultValue","children","style","onChange","ariaLabel","placeholder"])),o=Object(c.useRef)(null),u=Object(c.useState)(t||"editor"),d=Object(n.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(a),x=Object(n.a)(O,2),p=x[0],f=x[1],v=Object(c.useCallback)((function(e){if(h(e.target.value),l){var t=o.current;t.value={role:e.target.value,value:p},l({target:t})}}),[h,l,p]),m=Object(c.useCallback)((function(e){if(f(e),l){var t=o.current;t.value={role:b,value:e},l({target:t})}}),[f,l,b]);return Object(_.jsxs)("div",Object(j.a)(Object(j.a)({ref:o,style:Object(j.a)({display:"flex",flexDirection:"row",alignItems:"flex-start",maxWidth:"100%"},i)},s),{},{children:[r?r({onChange:m,defaultValue:a,style:{flexGrow:"1"}}):null,Object(_.jsxs)("select",{onChange:v,defaultValue:t,style:{margin:"0 0 0 var(--basis)",display:"none"},children:[Object(_.jsx)("option",{value:"editor",children:"Editor"},"editor"),Object(_.jsx)("option",{value:"viewer",children:"Viewer"},"viewer")]})]}))},ne=/^(?:(?:(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(?:\.(?:(?![\t-\r "\(\),\.:-<>@\[-\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|(?:"(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(?:(?:[\x2D0-9A-Za-z\u017F\u212A]+\.)+[A-Za-z\u017F\u212A]{2,})\.?)$/gi;var ce=function(e){var t=e.defaultValue,a=e.onChange,r=e.onError,n=Object(B.a)(e,["defaultValue","onChange","onError"]),i=Object(c.useCallback)((function(e){if(a||r){var t=e.target.value||"",n=!1,c="";""!==t&&(t.match(ne)?n=!0:c="invalid_email"),a&&a(n?t:""),r&&r(c)}}),[a,r]);return Object(_.jsx)("input",Object(j.a)({type:"email",onChange:i,defaultValue:t},n))},ie=a(42),le=a(18),se=a.n(le);var oe=function(e){var t=e.defaultValue,a=e.addDefaultValue,r=e.addButtonText,i=e.reorderLabel,l=void 0===i?"Reorder":i,s=e.render,o=e.style,u=e.onChange,d=e.prependNewItems,b=e.isReorderable;r||(r="Add Row");var h=Object(c.useState)([]),O=Object(n.a)(h,2),x=O[0],p=O[1];Object(c.useEffect)((function(){var e=t;Array.isArray(t)&&0!==t.length||(e=[a()]),p(e)}),[t,a,p]);var f=Object(c.useCallback)((function(e){var t=e.target.dataset.index,a=Object(H.a)(x);a.splice(t,1);var r=u(a);Array.isArray(r)&&(a=r),p(a)}),[x,p,u]),v=Object(c.useCallback)((function(e){var t=e.target.dataset.index,a=e.target.dataset.id,r=e.target.value,n=Object(H.a)(x);"object"!==typeof r||Array.isArray(r)?n[t]={_id:a,value:r}:"object"===typeof r&&(n[t]=Object(j.a)({_id:a},r)),p(n),u(n)}),[x,p,u]),m=Object(c.useCallback)((function(e){var t=a(),r=null;e.target.dataset.index&&(r=parseInt(e.target.dataset.index),isNaN(r)&&(r=null));var n=null;null!==r&&r>=0?(n=Object(H.a)(x)).splice(r,0,t):n=!0===d?[t].concat(Object(H.a)(x)):[].concat(Object(H.a)(x),[t]),p(n),u(n)}),[x,a,p,u,d]),g=1===x.length,y=Object(_.jsx)("div",{style:{textAlign:"right"},children:Object(_.jsx)("button",{className:"green ".concat(se.a.addRowButton),onClick:m,children:r})});return Object(_.jsxs)("div",{style:o,children:[!g&&d?Object(_.jsx)("div",{style:{marginBottom:"var(--basis)"},children:y}):null,Object(_.jsx)(ie.a,{onDragEnd:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=function(e,t,a){var r=Array.from(e),c=r.splice(t,1),i=Object(n.a)(c,1)[0];return r.splice(a,0,i),r}(x,e.source.index,e.destination.index);p(t),u(t)}},children:Object(_.jsx)(ie.c,{droppableId:"list",isDropDisabled:!0!==b,children:function(e){return Object(_.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[x.filter((function(e){return e._id})).map((function(e,t){return Object(_.jsx)(ie.b,{draggableId:e._id,index:t,isDragDisabled:!0!==b,disableInteractiveElementBlocking:!0,children:function(a){return Object(c.createElement)("div",Object(j.a)(Object(j.a)({ref:a.innerRef},a.draggableProps),{},{key:e._id,className:se.a.row}),0!==t?Object(_.jsxs)("div",{className:se.a.middleActions,children:[Object(_.jsx)("div",{className:se.a.trigger}),Object(_.jsx)("div",{className:se.a.content,children:Object(_.jsx)("button",{className:"green ".concat(se.a.inlineRowButton),"data-index":t,onClick:m,children:"+"})})]}):null,Object(_.jsxs)("div",{className:se.a.form,children:[!0===b?Object(_.jsx)("button",Object(j.a)(Object(j.a)({"aria-label":l,className:"text ".concat(se.a.inlineRowButton)},a.dragHandleProps),{},{children:"\u2630"})):null,s({key:e._id,defaultValue:e,className:se.a.item,"data-index":t,"data-id":e._id,onChange:v}),g?Object(_.jsx)("button",{className:"green ".concat(se.a.inlineRowButton),onClick:m,children:"+"}):Object(_.jsx)("button",{className:"red ".concat(se.a.inlineRowButton),"data-index":t,onClick:f,children:"\u2013"})]}))}},e._id)})),e.placeholder]}))}})}),g||d?null:y]})};var ue=p((function(e){e.fluentByObject;var t=e.getString,a=e.item,r=e.className,i=e.onChange,l=Object(B.a)(e,["fluentByObject","getString","item","className","onChange"]),s=t("default_locale"),o=Object(c.useRef)(null),u=Object(c.useState)(a.type||null),d=Object(n.a)(u,2),b=d[0],h=d[1],O=Object(c.useState)(a.title||[]),p=Object(n.a)(O,2),f=p[0],v=p[1],m=Object(c.useState)(a.text||[]),g=Object(n.a)(m,2),y=g[0],w=g[1],k=Object(c.useState)(a.link||""),F=Object(n.a)(k,2),C=F[0],E=F[1],N=Object(c.useState)(a.active||!0),S=Object(n.a)(N,2),V=S[0],D=S[1],A=Object(c.useCallback)((function(e){if(h(e),i){var t=o.current;t.value={type:e,title:f,text:y,link:C,active:V},i({target:t})}}),[h,i,f,y,C,V]),R=Object(c.useCallback)((function(e){var t=e;if(v(t),i){var a=o.current;a.value={type:b,title:t,text:y,link:C,active:V},i({target:a})}}),[v,i,b,y,C,V]),L=Object(c.useCallback)((function(e){var t=e;if(w(t),i){var a=o.current;a.value={type:b,title:f,text:t,link:C,active:V},i({target:a})}}),[w,i,b,f,C,V]),I=Object(c.useCallback)((function(e){if(E(e),i){var t=o.current;t.value={type:b,title:f,text:y,link:e,active:V},i({target:t})}}),[E,i,b,f,y,V]),P=Object(c.useCallback)((function(){var e=!V;if(D(e),i){var t=o.current;t.value={type:b,title:f,text:y,link:C,active:e},i({target:t})}}),[D,i,b,f,y,C,V]);return Object(_.jsxs)("div",Object(j.a)(Object(j.a)({ref:o,className:"".concat(Q.a.item," ").concat(b?"":Q.a.chooseTypeScreen," ").concat(r)},l),{},{children:[b?null:Object(_.jsx)("p",{style:{marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_item_choose_type_label"})}),Object(_.jsxs)("div",{className:Q.a.itemSettingsRow,children:[b?Object(_.jsx)("label",{className:Q.a.active_toggle_wrapper,children:Object(_.jsx)("button",{onClick:P,className:V?"text":"red",children:V?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W.a,{className:"".concat(Q.a.active_toggle_icon," ").concat(Q.a.active)})," ",Object(_.jsx)("span",{children:Object(_.jsx)(x,{id:"path_editor_item_active"})})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Z.a,{className:Q.a.active_toggle_icon})," ",Object(_.jsx)("span",{children:Object(_.jsx)(x,{id:"path_editor_item_not_active"})})]})})}):null,Object(_.jsx)(ee,{className:V?Q.a.form_active:Q.a.form_deactivated,onChange:A,ariaLabel:"Use as",defaultValue:b,items:[{value:"link",title:t("path_editor_item_choose_type_value_link")},{value:"headline",title:t("path_editor_item_choose_type_value_headline")},{value:"text",title:t("path_editor_item_choose_type_value_text")}],style:{marginTop:"calc(-1 * var(--basis))"}})]}),Object(_.jsx)("span",{className:V?Q.a.form_active:Q.a.form_deactivated,children:b?Object(_.jsxs)(_.Fragment,{children:["link"===b||"headline"===b||"headline3"===b?Object(_.jsx)(oe,{onChange:R,defaultValue:f,addDefaultValue:function(){return{_id:Object(q.a)(),locale:s,value:""}},addButtonText:t("path_editor_add_translation"),style:{marginTop:"var(--basis_x4)"},render:function(e){var a=e.defaultValue,r=Object(B.a)(e,["defaultValue"]),n=a.locale,c=a.value;return Object(_.jsx)(ae,Object(j.a)(Object(j.a)({locale:n,defaultValue:c,style:{maxWidth:"calc(100% - calc(var(--basis_x4) + var(--basis_x2)))"}},r),{},{children:function(e){return Object(_.jsx)("input",Object(j.a)(Object(j.a)({type:"text",placeholder:t("path_editor_item_title_label")},e),{},{style:Object(j.a)(Object(j.a)({},e.style),{},{margin:"0"})}))}}))}}):null,"text"===b?Object(_.jsx)(oe,{onChange:L,defaultValue:y,addDefaultValue:function(){return{_id:Object(q.a)(),locale:s,value:""}},addButtonText:t("path_editor_add_translation"),style:{marginTop:"var(--basis_x4)"},render:function(e){var a=e.defaultValue,r=Object(B.a)(e,["defaultValue"]),n=a.locale,c=a.value;return Object(_.jsx)(ae,Object(j.a)(Object(j.a)({locale:n,defaultValue:c,style:{maxWidth:"calc(100% - calc(var(--basis_x4) + var(--basis_x2)))"}},r),{},{children:function(e){return Object(_.jsx)("textarea",Object(j.a)(Object(j.a)({placeholder:t("path_editor_item_text_label")},e),{},{style:Object(j.a)(Object(j.a)({},e.style),{},{margin:"0"})}))}}))}}):null,"link"===b?Object(_.jsx)(U,{children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,onChange:I,type:"text",defaultValue:C,placeholder:t("path_editor_item_link_label"),style:{marginRight:"0",marginBottom:"0",marginLeft:"0",width:"calc(100% - var(--basis_x2))"}})}}):null]}):null})]}))}));var de=p((function(e){var t=e.getString,a=e.defaultValue,r=e.onChange,n=a;return Object(_.jsx)(oe,{onChange:r,defaultValue:n,addDefaultValue:function(){return{_id:Object(q.a)(),type:null,title:[],link:"",active:!0}},addButtonText:t("path_editor_add_row"),reorderLabel:t("path_editor_reorder"),prependNewItems:!0,isReorderable:!0,render:function(e){var t=e.defaultValue,a=Object(B.a)(e,["defaultValue"]);return Object(_.jsx)(ue,Object(j.a)({item:t},a))}})}));function je(e){return Array.isArray(e)?e.map((function(e){return e.hasOwnProperty("_id")||(e._id=Object(q.a)()),e})):e}function be(e){return new Promise((function(t){setTimeout(t,e)}))}var he=p((function(e){var t=e.getString,a=t("default_locale"),r=Object(d.g)().code,i=f()||[],l=Object(n.a)(i,1)[0],s=(l=void 0===l?{}:l).email,o=void 0===s?"":s,u=Object(c.useState)(!0),b=Object(n.a)(u,2),h=b[0],O=b[1],p=Object(c.useState)(!0),v=Object(n.a)(p,2),m=v[0],y=v[1],w=Object(c.useState)(null),k=Object(n.a)(w,2),F=k[0],C=k[1],E=Object(c.useState)(""),V=Object(n.a)(E,2),D=V[0],A=V[1],R=Object(c.useCallback)((function(e){return A(e)}),[A]),L=Object(c.useState)(""),I=Object(n.a)(L,2),P=I[0],G=I[1],W=Object(c.useCallback)((function(e){return G(e)}),[G]),Z=Object(c.useState)([]),K=Object(n.a)(Z,2),te=K[0],ne=K[1],ie=Object(c.useCallback)((function(e){return ne(e)}),[ne]),le=Object(c.useState)([]),se=Object(n.a)(le,2),ue=se[0],he=se[1],Oe=Object(c.useCallback)((function(e){return he(e)}),[he]),_e=Object(c.useMemo)((function(){return"string"===typeof o&&o.length>0?[{_id:Object(q.a)(),value:o,role:"editor"},{_id:Object(q.a)(),value:"",role:"editor"}]:[]}),[o]),xe=Object(c.useState)(_e),pe=Object(n.a)(xe,2),fe=pe[0],ve=pe[1],me=Object(c.useCallback)((function(e){return 0===e.filter((function(e){return""!==e.value&&"@volteuropa.org"!==e.value&&(!e.role||"editor"===e.role)})).length&&e.unshift({_id:Object(q.a)(),value:o,role:"editor"}),ve(e),e}),[ve,o]),ge=Object(c.useState)(_e),ye=Object(n.a)(ge,2),we=ye[0],ke=ye[1],Fe=Object(c.useState)(""),Ce=Object(n.a)(Fe,2),Ee=Ce[0],Ne=Ce[1],Se=Object(c.useState)(""),Ve=Object(n.a)(Se,2),De=Ve[0],Be=Ve[1],Ae=Object(c.useState)(""),Re=Object(n.a)(Ae,2),Le=Re[0],Te=Re[1],Ie=Object(c.useState)(""),Pe=Object(n.a)(Ie,2),Ue=Pe[0],Ge=Pe[1],He=Object(c.useState)([]),qe=Object(n.a)(He,2),We=qe[0],Ze=qe[1],ze=Object(c.useCallback)((function(e){return Ze(e)}),[Ze]);Object(c.useEffect)((function(){y(!0),O(!0),fetch("".concat(window.domains.backend,"get/").concat(r),{mode:"cors",credentials:"include"}).then((function(e){return e.json()})).then((function(e){if("string"===typeof e.error)"no_edit_permission"===e.error&&(O(!1),y(!1));else{var t=e.use_as,a=void 0===t?"":t,n=e.layout,c=void 0===n?r.includes(".")?"person":"default":n,i=e.title,l=void 0===i?[]:i,s=e.description,o=void 0===s?[]:s,u=e.permissions,d=void 0===u?_e:u,j=e.redirect,b=void 0===j?"":j,h=e.coverphoto,_=void 0===h?"":h,x=e.overwrites,p=void 0===x?{}:x,f=e.items,v=void 0===f?[]:f,m=p.imprint,g=void 0===m?"":m,w=p.privacy_policy,k=void 0===w?"":w;l=je(l),o=je(o),v=v.map((function(e){return e.hasOwnProperty("_id")||(e._id=Object(q.a)()),e.hasOwnProperty("title")&&(e.title=je(e.title)),e.hasOwnProperty("description")&&(e.description=je(e.description)),e}));var F=d.filter((function(e){return"viewer"===e.role}));F=F.length>0?F[0].value:"",A(a),G(c),ne(l),he(o),ve(d.filter((function(e){return""!==e.value&&"@volteuropa.org"!==e.value}))),ke(F),Ge(b),Ne(_),Be(g),Te(k),Ze(v),O(!1)}})).catch((function(e){return console.error(e)}))}),[O,y,r,_e,A,G,ne,he,ve,Ge,Ne,Be,Te,Ze]);var Ye=Object(c.useCallback)((function(){C(t("path_editor_status_started_saving"));var e=[].concat(Object(H.a)(fe),Object(H.a)(""!==we?[{_id:Object(q.a)(),value:we,role:"viewer"}]:[])),a={use_as:D,layout:P,title:te,description:ue,permissions:e,coverphoto:Ee,redirect:Ue,overwrites:{imprint:De,privacy_policy:Le},items:We};fetch("".concat(window.domains.backend,"set/").concat(r),{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then(function(){var e=Object(S.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(500);case 2:if("string"!==typeof a.error){e.next=16;break}if("no_edit_permission"!==a.error){e.next=10;break}return C(t("path_editor_edit_permission_error")),e.next=7,be(2e3);case 7:C(null),e.next=14;break;case 10:return C(a.error),e.next=13,be(2e3);case 13:C(null);case 14:e.next=20;break;case 16:return C(t("path_editor_status_saved")),e.next=19,be(2e3);case 19:C(null);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(S.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error(a),e.next=3,be(500);case 3:C(t("path_editor_status_error_while_saving",{error:a.message}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t,r,D,P,Ue,te,ue,fe,we,We,Ee,De,Le]),Xe=Object(c.useCallback)((function(){var e=document.createElement("a");e.href="https://umami.qiekub.org/share/s0ZHBZbb/volt.link?url=%2F".concat(r),e.target="_blank",e.rel="noreferrer",e.click()}),[r]),Je=Object(_.jsxs)("div",{className:"buttonRow",style:{whiteSpace:"nowrap"},children:[Object(_.jsx)("button",{className:"text hasIcon",onClick:function(){var e=document.createElement("a");e.href="https://qrcode.volt.link/?c=https://volt.link/".concat(r),e.target="_blank",e.rel="noreferrer",e.click()},children:Object(_.jsxs)("span",{style:{pointerEvents:"none"},children:[Object(_.jsx)(z.a,{src:J,className:"icon"}),Object(_.jsx)("span",{style:{verticalAlign:"middle"},children:Object(_.jsx)(x,{id:"path_editor_qrcode"})})]})}),Object(_.jsx)("button",{className:"text hasIcon",onClick:Xe,children:Object(_.jsxs)("span",{style:{pointerEvents:"none"},children:[Object(_.jsx)(z.a,{src:M,className:"icon"}),Object(_.jsx)("span",{style:{verticalAlign:"middle"},children:Object(_.jsx)(x,{id:"path_editor_statistics"})})]})}),Object(_.jsx)("button",{className:"green hasIcon",onClick:Ye,children:Object(_.jsxs)("span",{style:{pointerEvents:"none"},children:[Object(_.jsx)(z.a,{src:$,className:"icon"}),Object(_.jsx)("span",{style:{verticalAlign:"middle"},children:Object(_.jsx)(x,{id:"path_editor_save"})})]})})]}),Me=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_title_label"})}),Object(_.jsx)(oe,{onChange:ie,defaultValue:te,addDefaultValue:function(){return{_id:Object(q.a)(),locale:a,value:""}},addButtonText:t("path_editor_add_translation"),render:function(e){var a=e.defaultValue,r=Object(B.a)(e,["defaultValue"]),n=a.locale,c=a.value;return Object(_.jsx)(ae,Object(j.a)(Object(j.a)({locale:n,defaultValue:c,style:{maxWidth:"calc(100% - calc(var(--basis_x4) + var(--basis_x2)))"}},r),{},{children:function(e){return Object(_.jsx)("input",Object(j.a)(Object(j.a)({"aria-label":t("path_editor_title_label"),type:"text",placeholder:t("path_editor_title_placeholder")},e),{},{style:Object(j.a)(Object(j.a)({},e.style),{},{margin:"0"})}))}}))}}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_description_label"})}),Object(_.jsx)(oe,{onChange:Oe,defaultValue:ue,addDefaultValue:function(){return{_id:Object(q.a)(),locale:a,value:""}},addButtonText:t("path_editor_add_translation"),render:function(e){var a=e.defaultValue,r=Object(B.a)(e,["defaultValue"]),n=a.locale,c=a.value;return Object(_.jsx)(ae,Object(j.a)(Object(j.a)({locale:n,defaultValue:c,style:{maxWidth:"calc(100% - calc(var(--basis_x4) + var(--basis_x2)))"}},r),{},{children:function(e){return Object(_.jsx)("textarea",Object(j.a)(Object(j.a)({"aria-label":t("path_editor_description_label"),placeholder:t("path_editor_description_placeholder")},e),{},{style:Object(j.a)(Object(j.a)({},e.style),{},{margin:"0"})}))}}))}}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_permissions_view_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_permissions_view_info"})}),Object(_.jsx)(ee,{onChange:ke,ariaLabel:t("path_editor_permissions_view_label"),defaultValue:we,items:[{value:"",title:t("path_editor_permissions_view_public")},{value:"@volteuropa.org",title:t("path_editor_permissions_view_volteuropa")}]}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_permissions_edit_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_permissions_edit_info"})}),Object(_.jsx)(oe,{onChange:me,defaultValue:fe,addDefaultValue:function(){return{_id:Object(q.a)(),value:"",role:"editor"}},addButtonText:t("path_editor_permissions_edit_add_button_label"),render:function(e){var a=e.defaultValue,r=Object(B.a)(e,["defaultValue"]),n=a.role,c=a.value;return Object(_.jsx)(re,Object(j.a)(Object(j.a)({role:n,defaultValue:c,style:{maxWidth:"calc(100% - calc(var(--basis_x4) + var(--basis_x2)))",margin:"0"}},r),{},{children:function(e){return Object(_.jsx)(U,{style:Object(j.a)(Object(j.a)({},e.style),{},{display:"flex",flexDirection:"column"}),children:function(a){var r=a.setError;return Object(_.jsx)(ce,Object(j.a)(Object(j.a)({onError:r,"aria-label":t("path_editor_permissions_edit_label"),placeholder:t("path_editor_permissions_edit_placeholder")},e),{},{style:{flexGrow:"1",margin:"0"}}))}})}}))}}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_use_as_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_use_as_info"})}),Object(_.jsx)(ee,{onChange:R,ariaLabel:t("path_editor_use_as_label"),defaultValue:D,items:[{value:"redirect",title:t("path_editor_use_as_value_redirect")},{value:"linklist",title:t("path_editor_use_as_value_linklist")},{value:"",title:t("path_editor_use_as_value_nothing")}]}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"linklist"===D?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_layout_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_layout_info"})}),Object(_.jsx)(ee,{onChange:W,ariaLabel:t("path_editor_layout_label"),defaultValue:P,items:[{value:"default",title:t("path_editor_layout_value_default"),icon:Object(_.jsx)(z.a,{src:Y,className:"icon big"})},{value:"person",title:t("path_editor_layout_value_person"),icon:Object(_.jsx)(z.a,{src:X,className:"icon big"})}]}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_coverphoto_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_coverphoto_info",vars:{width:"person"===P?"400px":"1200px",height:"400px",ratio:"person"===P?"1/1":"3/1"}})}),Object(_.jsx)(U,{children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,onChange:Ne,defaultValue:Ee,type:"text",placeholder:t("path_editor_coverphoto_placeholder"),"aria-label":t("path_editor_coverphoto_label"),style:{marginRight:"0",marginLeft:"0",width:"calc(100% - var(--basis_x2))"}})}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_imprint_overwrite_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_imprint_overwrite_info"})}),Object(_.jsx)(U,{children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,onChange:Be,defaultValue:De,type:"text",placeholder:t("path_editor_imprint_overwrite_placeholder"),"aria-label":t("path_editor_imprint_overwrite_label"),style:{marginRight:"0",marginLeft:"0",width:"calc(100% - var(--basis_x2))"}})}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_privacy_policy_overwrite_label"})}),Object(_.jsx)("em",{className:"body2",style:{display:"block",marginBottom:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_privacy_policy_overwrite_info"})}),Object(_.jsx)(U,{children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,onChange:Te,defaultValue:Le,type:"text",placeholder:t("path_editor_privacy_policy_overwrite_placeholder"),"aria-label":t("path_editor_privacy_policy_overwrite_label"),style:{marginRight:"0",marginLeft:"0",width:"calc(100% - var(--basis_x2))"}})}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)(de,{onChange:ze,defaultValue:We}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}):"redirect"===D?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{children:Object(_.jsx)(x,{id:"path_editor_redirect_label"})}),Object(_.jsx)(U,{children:function(e){var a=e.setError;return Object(_.jsx)(T,{onError:a,onChange:Ge,type:"text",placeholder:t("path_editor_redirect_placeholder"),"aria-label":t("path_editor_redirect_label"),defaultValue:Ue,style:{marginRight:"0",marginLeft:"0",width:"calc(100% - var(--basis_x2))"}})}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]}):null]});return Object(_.jsxs)("div",{className:"hasHeader ".concat(Q.a.editor," ").concat(h?Q.a.loadingContent:""),children:[Object(_.jsx)(g,{title:Object(_.jsxs)("a",{href:"https://volt.link/".concat(r),target:"_blank",rel:"noreferrer",children:[Object(_.jsx)("span",{className:"hideOnSmallScreen",children:"volt.link"}),"/",r]}),rightActions:m?Je:null,notificationBanner:null===F?null:Object(_.jsx)("p",{style:{textAlign:"center"},children:F})}),m?Me:Object(_.jsx)("p",{style:{marginTop:"var(--basis)"},children:Object(_.jsx)(x,{id:"path_editor_edit_permission_error"})})]})}));var Oe=p((function(e){var t=e.getString,a=f(),r=Object(n.a)(a,2)[1],c=Object(d.f)(),i=Object(d.h)("/:slug"),l=i?i.params.slug:"",s=r?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ee,{onChange:function(e){switch(e){case"shortcode":c.push("/shortcode");break;case"list":window.open("".concat(window.domains.backend,"list"),"_blank");break;default:c.push("/")}},ariaLabel:t("main_menu"),defaultValue:l,items:[{value:"",title:t("menu_micropages")},{value:"shortcode",title:t("menu_url_shortener")},{value:"list",title:t("menu_list")}]}),Object(_.jsx)("a",{href:"".concat(window.domains.backend,"logout?redirect_to=").concat(encodeURIComponent(window.location.toString())),children:Object(_.jsx)("button",{className:"red",style:{marginRight:"0"},children:Object(_.jsx)(x,{id:"logout"})})})]}):Object(_.jsx)("a",{href:"".concat(window.domains.backend,"login?redirect_to=").concat(encodeURIComponent(window.location.toString())),children:Object(_.jsx)("button",{style:{marginRight:"0"},children:Object(_.jsx)(x,{id:"login"})})});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:u.a.app,children:r?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(d.c,{children:[Object(_.jsx)(d.a,{path:"/edit/:code",children:Object(_.jsx)(he,{})}),Object(_.jsx)(d.a,{path:"/shortcode",children:Object(_.jsx)(G,{rightHeaderActions:s})}),Object(_.jsx)(d.a,{path:"/",children:Object(_.jsx)(C,{rightHeaderActions:s})})]})}):Object(_.jsxs)("div",{children:[Object(_.jsx)(g,{title:"edit.volt.link",rightActions:s}),Object(_.jsx)("p",{children:Object(_.jsx)(x,{id:"login_prompt"})})]})}),Object(_.jsxs)("footer",{children:[Object(_.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:Object(_.jsx)(x,{id:"contact"})}),"\xa0 \u2022 \xa0",Object(_.jsx)("a",{href:"https://github.com/voltbonn/edit.volt.link",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(x,{id:"source_code"})})]})]})})),_e=(a(66),a(37)),xe=a(35),pe={de:"Deutsch",en:"English"},fe=Object.keys(pe),ve="en";function me(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(S.a)(N.a.mark((function e(t){var r,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(70)("./"+t+".ftl");case 2:return r=e.sent,e.next=5,fetch(r.default);case 5:return n=e.sent,e.next=8,n.text();case 8:return c=e.sent,e.abrupt("return",Object(_e.a)({},t,new xe.b(c)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(S.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(me));case 2:return a=e.sent,n=a.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",N.a.mark((function e(){var a,c,i,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(r.a)(t),e.prev=1,a.s();case 3:if((c=a.n()).done){e.next=11;break}return i=c.value,(l=new xe.a(i)).addResource(n[i]),e.next=9,l;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a.e(e.t0);case 16:return e.prev=16,a.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){var t=e.userLocales,a=e.children,r=e.onLocaleChange,i=Object(c.useState)(function(){var e=new xe.a("");return e.addResource(new xe.b("")),new b.c([e])}()),l=Object(n.a)(i,2),s=l[0],o=l[1];return Object(c.useEffect)((function(){function e(){return(e=Object(S.a)(N.a.mark((function e(){var a,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.a)(t,fe,{defaultLocale:ve}),r&&r(a),e.next=4,ye(a);case 4:n=e.sent,(c=new b.c(n())).userLocales=t,c.defaultLocale=ve,c.supportedLocales=fe,o(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),s?Object(_.jsx)(b.a,{l10n:s,children:a}):Object(_.jsx)("div",{children:"Loading texts\u2026"})}function Fe(){var e=Object(c.useState)(navigator.languages),t=Object(n.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(n.a)(l,2),o=s[0],u=s[1];Object(c.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value,c=(n=n.toLowerCase()).split("-")[0];c!==n&&window.umami.trackEvent("L: "+c),window.umami.trackEvent("L: "+n)}}catch(i){a.e(i)}finally{a.f()}}}}),[]);var d=Object(c.useCallback)((function(e){i([e.target.dataset.locale])}),[i]),j=Object(c.useCallback)((function(e){u(e.length>0?e[0]:"")}),[u]);return Object(_.jsx)(ke,{userLocales:a,onLocaleChange:j,children:Object(_.jsx)(Oe,{locales:pe,currentLocale:o,onLanguageChange:d})},"AppLocalizationProvider")}window.domains={frontend:"https://edit.volt.link",backend:"https://volt.link/"},s.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(k.a,{children:Object(_.jsx)(Fe,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.774eb90d.chunk.js.map